function toggleIfValue(e,t=[],o){function c(){let c=o.querySelectorAll("[name]");t.indexOf(e.value)>-1?("none"===o.style.display&&fadeIn(o,300),c.forEach(function(e){e.setRequired&&"none"!==e.closest(".input").style.display&&e.setRequired()})):("none"!==o.style.display&&fadeOut(o,300),c.forEach(function(e){e.removeRequired&&e.removeRequired()}))}c(),e.addEventListener("change",c)}sectionJS(".checkout",function(e){e.forEach(e=>{function t(t){if(t.classList.contains("processing"))return!1;t.classList.add("processing"),jQuery(e.querySelector("#order_review")).block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var o={security:wc_checkout_params.apply_coupon_nonce,coupon_code:t.querySelector('input[name="coupon_code"]').value};jQuery.ajax({type:"POST",url:wc_checkout_params.wc_ajax_url.toString().replace("%%endpoint%%","apply_coupon"),data:o,success:function(c){if(t.classList.remove("processing"),jQuery(e.querySelector("#order_review")).unblock(),c){let e=jQuery(c).hasClass("is-error"),r=document.querySelector(".popup-promocode .checkout__code-form");e?(t.classList.add("has-error"),r.classList.add("has-error")):(t.classList.remove("has-error"),r.classList.remove("has-error"),Fancybox.close(),showNotice(messages.added_promocode,!1)),jQuery(document.body).trigger("applied_coupon_in_checkout",[o.coupon_code]),jQuery(document.body).trigger("update_checkout",{update_shipping_method:!1})}},dataType:"html"})}function o(){let o=e.querySelector('[name="shipping_postcode"]'),c=e.querySelector(".js-place-order");if(o&&o.value){let e=new FormData,t=new XMLHttpRequest;e.append("action","check_zip"),e.append("zipcode",o.value),t.open("post","/wp-admin/admin-ajax.php"),t.send(e),t.onload=function(){let e=t.responseText;try{e=JSON.parse(e).data}catch(e){}if(200===t.status)c.removeAttribute("disabled"),o.removeError();else if(void 0!==e.available&&!e.available){if(c.setAttribute("disabled","disabled"),o.setError("error"),document.querySelector(".fancybox__container #popup-zip-incorrect"))return;Fancybox.close(),Fancybox.show([{src:"#popup-zip-incorrect",type:"inline",placeFocusBack:!1,trapFocus:!1,autoFocus:!1}],{dragToClose:!1})}}}setTimeout(function(){let o=e.querySelector(".checkout__code-form");validate(e,{submitFunction:()=>{}}),validate(o,{submitFunction:t,checkOnInput:!0}),o.querySelector("button").addEventListener("click",function(e){e.preventDefault(),trigger(o,"submit")})},100)}setInterval(function(){let t=e.querySelector("#billing_state_field");if(!t)return;let o=t.querySelector("select"),c=t.querySelector(".select2");o?t.classList.add("input--select"):(c&&c.remove(),t.classList.remove("input--select"))},500),dynamicListener("click",".js-place-order",function(){let t=e.querySelector(".checkout__btn-error");e.validateMethods.validate()&&(e.querySelector("#place_order").click(),t.innerHTML="",t.style.display="none")}),dynamicListener("change",".checkout .input--select",function(){jQuery(document.body).trigger("update_checkout",{update_shipping_method:!1})}),jQuery(document.body).on("checkout_error",function(t,o){!function(t=""){setTimeout(function(){let o=e.querySelector(".checkout__btn-error");o.innerHTML="",jQuery(t).find("li, .wc-block-components-notice-banner__content").each(function(){if(this.dataset.id){let t=e.querySelector('[name="'+this.dataset.id+'"]');t&&t.setError&&t.setError(this.textContent.trim())}else o&&(o.innerHTML=o.innerHTML+"<p>"+this.textContent.trim()+"</p>",o.style.display="block")})},100)}(o)}),jQuery(document.body).on("updated_checkout",o),o(),setTimeout(function(){},100),document.querySelector(".popup-promocode .checkout__code-form .btn").addEventListener("click",function(){let t=e.querySelector(".checkout__code-form button");t.removeAttribute("disabled"),t.click()}),dynamicListener("input",".popup-promocode .checkout__code-input input",function(){let e=this.value;document.querySelector(".checkout__code-input input").value=e})})});