function validate(e,t={}){if(!hasPluginRequirements("validate",["printf","selectAll"]))return;let i={...{methodsOnInput:["regexReplace","maxlength"],submitFunction:null,highlightFunction:null,unhighlightFunction:null,checkOnInput:!1,checkOnInputAfterSubmit:!0,checkOnFocusOut:!0,disableButton:!1,errorClass:"is-error",dontValidateInputs:'input:not([type="hidden"])[name], .output_value, select, textarea',inputContainerSelector:".input",formErrorBlock:"",addInputErrors:!0,validationRules:"undefined"!=typeof validationRules?validationRules:{},validationErrors:"undefined"!=typeof validationErrors?validationErrors:{},methods:{regex:function(e,t,i){return""==e||new RegExp(i).test(e)},required:function(t,i){if("checkbox"===i.getAttribute("type")||"radio"===i.getAttribute("type")){let t=Array.from(e.querySelectorAll(`[name="${i.getAttribute("name")}"]`)),n=!!t.find(e=>e.checked);return n&&t.forEach(function(e){"function"==typeof e.removeError&&e.removeError()}),n}return!!t.trim()},regexReplace:function(e,t,i){return t.value=t.value.replace(new RegExp(i),""),!0},password_repeat:function(e,t,i){let n=t.closest("form").querySelector('[data-validation="password"]');return!t.hasAttribute("required")&&!e||e===n.value},tel_mask:function(e,t,i){return void 0!==t.checkValidCallback&&t.checkValidCallback(),void 0===t.telMask||(t.telMask.isValidNumber()||""===e)},minlength:function(e,t,i){let n=i||+t.getAttribute("minlength");return!n||!e||e.length>=n},maxlength:function(e,t,i){let n=+t.getAttribute("maxlength");return!n||(t.value.length>n&&(t.value=t.value.substr(0,n)),!0)}}},...t};function n(e,t,n,o=[]){let r=e.getAttribute("data-validation"),a=printf(n,o);return i.validationErrors[t]&&(a=printf(i.validationErrors[t],o)),i.validationErrors[r]&&i.validationErrors[r][t]&&(a=printf(i.validationErrors[r][t],o)),a}function o(e){e.preventDefault(),c.validate(),c.formSubmitted=!0}function r(t){if(this.had_input=!0,i.methodsOnInput.length)return void c.valid(this,i.methodsOnInput);if(i.checkOnFocusOut&&input.had_focusout)return void c.valid(this);if(i.checkOnInput)return void c.valid(this);i.checkOnInputAfterSubmit&&c.formSubmitted&&c.valid(this);let n=Array.from(e.querySelectorAll(`[name="${this.getAttribute("name")}"]`));if(n.length>1){let e=!n.find(e=>e.getAttribute("type")!==n[0].getAttribute("type")),t=n.find(e=>void 0!==e.getAttribute("required"));if(!e&&t&&"checkbox"!==this.getAttribute("type")&&"radio"!==this.getAttribute("type")){let e=n.filter(e=>e.getAttribute("type")!==this.getAttribute("type"));e.length&&this.value.trim()&&e.forEach(e=>e.isValid())}}}function a(t){let i=Array.from(e.querySelectorAll(`[name="${this.getAttribute("name")}"]`));if(i.length>1){let e=!i.find(e=>e.getAttribute("type")!==i[0].getAttribute("type")),t=i.find(e=>void 0!==e.getAttribute("required"));if(!e&&t&&"checkbox"!==this.getAttribute("type")&&"radio"!==this.getAttribute("type")){let e=i.filter(e=>e.getAttribute("type")!==this.getAttribute("type"));e.length&&(e.forEach(e=>e.removeRequired()),e.forEach(e=>e.checked=!1),e.forEach(e=>e.isValid())),this.setRequired()}}}function l(e){if(!i.checkOnInput&&i.checkOnFocusOut){if(this.had_focusout=!0,!this.had_focusout||!this.had_input)return;c.valid(this)}}function s(t){"checkbox"!==this.getAttribute("type")&&"radio"!==this.getAttribute("type")||this.isValid();let i=Array.from(e.querySelectorAll(`[name="${this.getAttribute("name")}"]`));if(i.length>1){let e=!i.find(e=>e.getAttribute("type")!==i[0].getAttribute("type")),t=i.find(e=>void 0!==e.getAttribute("required"));if(!e&&t&&("checkbox"===this.getAttribute("type")||"radio"===this.getAttribute("type"))){let e=i.filter(e=>e.getAttribute("type")!==this.getAttribute("type")),t=i.filter(e=>e.getAttribute("type")===this.getAttribute("type")).find(e=>e.checked);e.length&&(t?(e.forEach(e=>e.removeRequired()),e.forEach(e=>e.isValid())):e.forEach(e=>e.setRequired()))}}}"object"==typeof validationMethods&&(i.methods={...i.methods,...validationMethods}),"string"==typeof e&&(e=document.querySelector(e));let c={isValid:!0,allInputs:selectAll(i.dontValidateInputs,e),formSubmitted:!1,init:function(){c.allInputs=selectAll(i.dontValidateInputs,e),e.setAttribute("novalidate","novalidate"),e.setAttribute("data-js-validation","novalidate"),e.addEventListener("submit",o),e.valid=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return c.validate(!1,e)},c.allInputs.map(function(e){let t=[],o=e.getAttribute("data-validation");if(e.hasAttribute("required")&&t.push({callback:i.methods.required,errorMessage:n(e,"required","This field is required")}),e.hasAttribute("data-tel-mask")&&t.push({callback:i.methods.tel_mask,errorMessage:""}),e.hasAttribute("minlength")&&t.push({callback:i.methods.minlength,errorMessage:n(e,"minlength","Min length is &1 symbols",[e.getAttribute("minlength")])}),e.hasAttribute("maxlength")&&t.push({callback:i.methods.maxlength,errorMessage:n(e,"maxlength","Max length is &1 symbols",[e.getAttribute("maxlength")])}),o){let o=i.validationRules[e.getAttribute("data-validation")];o&&(o=o.rules),o&&Object.keys(o).forEach(r=>{let a=!1,l=o[r];i.methods[r]&&(a={callback:i.methods[r],passedValue:l,errorMessage:n(e,r,i.validationErrors.invalid||"This field is invalid")}),a&&t.push(a)})}function d(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=e.validationMethods,n=!1;return i.map(function(e){"required"===e.callback.name&&(n=!0,t&&i.splice(i.indexOf(e),1))}),n}e.setError=function(t){c.highlight(e),c.errorPlacement(t,e)},e.removeError=function(){c.unhighlight(e),c.errorRemove(e)},e.setRequired=function(){let o=e.validationMethods;d()||(o.push({callback:i.methods.required,errorMessage:n(e,"required","This field is required")}),e.validationMethods=t)},e.removeRequired=function(){d(!0)},e.isRequired=d,e.validationMethods=t,e.had_input=!1,e.had_focusout=!1,e.isValid=function(){return c.valid(e)},e.addEventListener("input",r),e.addEventListener("change",s),e.addEventListener("focus",a),e.addEventListener("focusout",l)}),i.rules&&Object.keys(i.rules).forEach(function(e){let t=document.querySelector('[name="'+e+'"]'),o=i.rules[e],r=t.validationMethods||[];if(!t)return;o.laravelRequired&&(o="required");let a=n(t,o,i.validationErrors.invalid||"This field is invalid");i.messages&&i.messages[e]&&(i.messages[e][o]||i.messages[e].laravelRequired)&&(a=i.messages[e][o]||i.messages[e].laravelRequired),i.methods[o]&&(r.push({callback:i.methods[o],errorMessage:a}),t.validationMethods=r)})},destroy:function(){e.removeAttribute("novalidate","novalidate"),e.removeAttribute("data-js-validation","novalidate"),e.removeEventListener("submit",o),e.valid=null,c.allInputs.map(function(e){e.setError=null,e.removeError=null,e.setRequired=null,e.removeRequired=null,e.isRequired=null,e.validationMethods=null,e.had_input=!1,e.had_focusout=!1,e.isValid=null,e.removeEventListener("input",r),e.removeEventListener("change",s),e.removeEventListener("focus",a),e.removeEventListener("focusout",l)})},valid:function(e){if(e["dont-check"])return!0;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.validationMethods;if(!n)return!0;let o=!0;return t.length&&(n=[],t.forEach(function(t){let i=e.validationMethods.find(e=>e.callback.name===t);i&&n.push(i)})),n.forEach(function(t){if(!o)return;t.callback(e.value,e,t.passedValue)||(i&&(c.errorPlacement(t.errorMessage,e),c.highlight(e)),c.isValid=o=e.validity.valid=!1)}),o&&(c.errorRemove(e),c.unhighlight(e),e.validity.valid=!0),o},validate:function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return c.isValid=!0,c.allInputs.map(function(e){c.valid(e,i)||(c.isValid=!1)}),c.isValid?(e.classList.remove("has-error"),t&&c.submitHandler()):e.classList.add("has-error"),c.isValid},highlight:function(t){if("function"==typeof i.highlightFunction)return void i.highlightFunction(e,t);let n;"object"==typeof i.inputContainerSelector?i.inputContainerSelector.forEach(function(e){t.closest(e)&&(n=t.closest(e))}):n=t.closest(i.inputContainerSelector),n&&n.classList.add(i.errorClass)},unhighlight:function(t){if("function"==typeof i.unhighlightFunction)return void i.unhighlightFunction(e,t);let n;"object"==typeof i.inputContainerSelector?i.inputContainerSelector.forEach(function(e){t.closest(e)&&(n=t.closest(e))}):n=t.closest(i.inputContainerSelector),n&&n.classList.remove(i.errorClass)},errorPlacement:function(t,n){if(!t)return;let o;"object"==typeof i.inputContainerSelector?i.inputContainerSelector.forEach(function(e){n.closest(e)&&(o=n.closest(e))}):o=n.closest(i.inputContainerSelector);let r=!!i.formErrorBlock&&e.querySelector(i.formErrorBlock);if(r&&(r.querySelector(`[data-name="${n.getAttribute("name")}"]`)||(r.innerHTML+=`<p data-name="${n.getAttribute("name")}">${t}</p>`)),o){if(i.addInputErrors){let e=o.querySelector(".input__message");e||((e=document.createElement("div")).classList.add("input__message"),o.append(e)),e.innerHTML=`<p>${t}</p>`}}else console.warn("BLACKBOOK Validate: no container for: ",n,i.inputContainerSelector)},errorRemove:function(t){let n;"object"==typeof i.inputContainerSelector?i.inputContainerSelector.forEach(function(e){t.closest(e)&&(n=t.closest(e))}):n=t.closest(i.inputContainerSelector);let o=!!i.formErrorBlock&&e.querySelector(i.formErrorBlock);if(o&&o.querySelector(`[data-name="${t.getAttribute("name")}"]`)&&o.querySelector(`[data-name="${t.getAttribute("name")}"]`).remove(),i.addInputErrors){if(!n)return void console.warn("BLACKBOOK Validate: no container for: ",t,i.inputContainerSelector);if(!(n=n.querySelector(".input__message")))return;n.innerHTML=""}},submitHandler:function(){"function"==typeof i.submitFunction?i.submitFunction(e):e.submit()}};return e.hasAttribute("data-js-validation")||c.init(),e.validateMethods=c,c}if(void 0===hasPluginRequirements)function hasPluginRequirements(e,t){let i=[];return t.forEach(function(e){"function"!=typeof this[e]&&i.push(e)}),i.length&&console.error(`BLACKBOOK plugin "${e}": requires ${i.join("(), ")}() functions`),!i.length}if(void 0===selectAll)function selectAll(e,t=!1){return Array.from(t?t.querySelectorAll(e):document.querySelectorAll(e))}if(void 0===printf)function printf(e,t=[],i=!0,n="&"){return t.forEach(function(t,o){let r=new RegExp(n+(o+1)+"(?![0-9])","g");r.test(e)?e=e.replace(r,t):i&&(e+=" "+t)}),e}if(void 0===setCookie)function setCookie(e,t,i,n="/"){var o="";if(i){var r=new Date;r.setTime(r.getTime()+24*i*60*60*1e3),o="; expires="+r.toUTCString()}document.cookie=e+"="+(t||"")+o+(n?`; path=${n}`:";")}if(void 0===getCookie)function getCookie(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}if(void 0===eraseCookie)function eraseCookie(e){document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}if(void 0===indexOf)function indexOf(e){return Array.from(e.parentElement.children).indexOf(e)}if(void 0===closestEl)function closestEl(e,t){let i=!1,n=e,o=0;for(;o++,n&&"BODY"!==n.nodeName&&!(o>20);){if(n==t){i=n;break}n=n.parentElement}return i}if(void 0===dynamicListener)function dynamicListener(e,t,i,n){e.split(" ").forEach(function(e){(document||n).addEventListener(e,function(e){(e.target.matches(t)||e.target.closest(t))&&i.call(e.target.closest(t),e)})})}if(void 0===trigger)function trigger(e,t,i={}){let n=e,o=t,r=i;"string"==typeof e&&(o=e,n=document,"object"==typeof t&&(r=t));let a=new CustomEvent(o,{bubbles:!0,detail:r});n.dispatchEvent(a)}if(void 0===animateOpacity)function animateOpacity(e,t,i="block",n,o){const r=window.getComputedStyle(e),a="none"===r.display?0:parseFloat(r.opacity);let l=a;1!==a&&(t-=t*a),n&&(e.style.opacity=a,e.style.display=i),e.animation&&e.animation.stop&&e.animation.stop();const s=performance.now();e.animation={raf:0,type:n?"fadeIn":"fadeOut",stop:function(){cancelAnimationFrame(e.animation.raf)}},function i(){const r=performance.now()-s,c=Math.min(1,r/t);l=a+c*(n-a),e.style.opacity=l.toFixed(2),c<1?e.animation.raf=requestAnimationFrame(i):(e.style.opacity="",e.animation=!1,n||(e.style.display="none"),o&&o())}()}if(void 0===fadeIn)function fadeIn(e,t,i="block",n=!1){animateOpacity(e,t,i,1,n)}if(void 0===fadeOut)function fadeOut(e,t,i=!1){animateOpacity(e,t,"",0,i)}if(void 0===fadeToggle)function fadeToggle(e,t=300,i="block",n=!1){return e.animation&&"fadeOut"===e.animation.type||!e.animation&&"none"===window.getComputedStyle(e).display?fadeIn(e,t,i,n):fadeOut(e,t,n)}if(void 0===animateHeight)function animateHeight(e,t,i,n,o){let r=window.getComputedStyle(e),a=r.paddingTop.replace("px",""),l=r.paddingBottom.replace("px","");i||(i=e.clientHeight);let s=i;e.style.transition="",n?(a&&(i-=a,e.style.paddingTop="0",setTimeout(function(){e.style.transition=`padding ${t}ms linear`,e.style.paddingTop=a+"px"},10)),l&&(i-=l,e.style.paddingBottom="0px",setTimeout(function(){e.style.transition=`padding ${t}ms linear`,e.style.paddingBottom=l+"px"},10)),s=i):(a&&(e.style.transition=`padding ${t}ms linear`,e.style.paddingTop="0px"),l&&(e.style.transition=`padding ${t}ms linear`,e.style.paddingBottom="0px")),i/n!=1/0&&(t-=t*(i/n)),e.animation&&e.animation.stop&&e.animation.stop();const c=performance.now();e.animation={raf:0,type:n>i?"slideDown":"slideUp",stop:function(){cancelAnimationFrame(e.animation.raf)}},function r(){const a=performance.now()-c,l=Math.min(1,a/t);s=i+l*(n-i),e.style.height=s.toFixed(2)+"px",l<1?e.animation.raf=requestAnimationFrame(r):(e.style.height="",e.style.paddingTop="",e.style.paddingBottom="",e.style.overflow="",e.style.transition="",e.animation=!1,n||(e.style.display="none"),o&&o())}()}if(void 0===slideDown)function slideDown(e,t,i="block",n){let o=e.clientHeight;e.style.display=i,e.style.height="unset";const r=e.clientHeight;e.style.height="0px",e.style.overflow="hidden",animateHeight(e,t,o,r,n)}if(void 0===slideUp)function slideUp(e,t,i){e.style.overflow="hidden",animateHeight(e,t,!1,0,i)}if(void 0===slideToggle)function slideToggle(e,t,i="block",n){return e.animation&&"slideUp"===e.animation.type||!e.animation&&"none"===window.getComputedStyle(e).display?slideDown(e,t,i,n):slideUp(e,t,n)}if(void 0===isElementInViewport)function isElementInViewport(e){if("function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]),!e)return!1;let t=e.getBoundingClientRect().left,i=e.getBoundingClientRect().top,n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),o=Math.max(document.documentElement.clientHeight,window.innerHeight||0),r=e.clientWidth,a=e.clientHeight;return i<o&&i+a>0&&t<n&&t+r>0}function accordion(e){if(!hasPluginRequirements("accordion",["dynamicListener","slideUp","slideDown","slideToggle"]))return;let t={globalContainer:".accordion-container",containerSelector:".accordion",btnSelector:".accordion__head",dropdownSelector:".accordion__content",slideDisplay:"block",timing:300};t={...t,...e},document.querySelectorAll(t.containerSelector).forEach(function(e){e.querySelector(t.dropdownSelector)||e.classList.add("is-empty")}),document.querySelectorAll(t.containerSelector+".is-open").forEach(function(e){e.querySelector(t.dropdownSelector)&&(e.querySelector(t.dropdownSelector).style.display="block")});let i=!0;dynamicListener("click",t.containerSelector+":not(.is-empty) "+t.btnSelector,function(e){if(!i)return;i=!1,setTimeout(function(){i=!0},100);let n=e.target.closest(t.containerSelector),o=!!t.globalContainer&&n.closest(t.globalContainer),r=o?Array.from(o.querySelectorAll(".is-open")):[];r.length&&(r=r.filter(e=>e!==n));let a=n.querySelector(t.dropdownSelector);r.length&&(r.forEach(e=>e.classList.remove("is-open")),r.forEach(e=>!!e.querySelector(t.dropdownSelector)&&slideUp(e.querySelector(t.dropdownSelector),t.timing))),slideToggle(a,t.timing,t.slideDisplay),setTimeout(function(){n.classList.toggle("is-open")},1)})}function dropdown(e){if(!hasPluginRequirements("dropdown",["dynamicListener","fadeIn","fadeOut","slideDown","slideUp"]))return;let t={globalContainer:"",containerClass:"header__lang",btnSelector:".header__lang-btn",closeBtnClass:"",dropdownSelector:".header__lang-dropdown",timing:300,effect:"fade",closeOnClick:!0,closeOnClickOutside:!0},i=300;t={...t,...e};let n=!1;function o(e){e.preventDefault();let o=e.target.closest("."+t.containerClass),a=o.querySelector(t.dropdownSelector);n||(setTimeout(function(){n=!1},200),n=!0,o.classList.contains("is-open")?r():("focusin"===e.type&&o.classList.add("focusin"),"focusin"!==e.type&&o.classList.remove("focusin"),r(o),o.classList.add("is-open"),o.style.zIndex="4","fade"===t.effect?fadeIn(a,i):"slide"===t.effect?slideDown(a,i):console.error('Dropdown plugin: There is no effect called "'+t.effect+'". Effects: "slide", "fade".')))}function r(e){let n=document.querySelectorAll("."+t.containerClass);e&&(n=Array.from(n).filter(t=>t!==e)),n.length&&n.forEach(function(e){e.classList.contains("is-open")&&(e.classList.remove("is-open"),e.querySelectorAll("li").forEach(e=>e.classList.remove("hover")),e.style.zIndex="","fade"===t.effect?fadeOut(e.querySelector(t.dropdownSelector),i):"slide"===t.effect?slideUp(e.querySelector(t.dropdownSelector),i):console.error('Dropdown plugin: There is no effect called "'+t.effect+'". Effects: "slide", "fade".'))})}t.closeOnClickOutside&&document.addEventListener("click",function(e){let i=e.target;t.closeBtnClass&&i.classList.contains(t.closeBtnClass)&&r(),i.classList.contains(t.containerClass)||i.closest("."+t.containerClass)||r()}),dynamicListener("click",t.globalContainer+" ."+t.containerClass+" "+t.btnSelector,o),dynamicListener("focusin",t.globalContainer+" ."+t.containerClass+" "+t.btnSelector,o),dynamicListener("focusout",t.globalContainer+" ."+t.containerClass+" "+t.btnSelector,function(e){e.target.closest("."+t.containerClass).classList.remove("focusin"),r(e.target.closest("."+t.containerClass))}),document.addEventListener("close-dropdown",r),!1!==t.timing&&(i=t.timing),"select"===t.containerClass&&(i=0),t.closeOnClick&&dynamicListener("click",t.globalContainer+" ."+t.containerClass+" "+t.dropdownSelector,function(e){e.target.closest("."+t.containerClass).classList.contains("checkbox")||r()})}